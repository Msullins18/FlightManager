DROP TABLE ADMIN CASCADE CONSTRAINTS;
DROP TABLE TRAVELLER CASCADE CONSTRAINTS;

DROP TABLE FLIGHT cascade constraints;
DROP TABLE AIRPORT cascade constraints;

CREATE TABLE ADMIN(
	EMAIL_ID VARCHAR(50),
	FIRST_NAME VARCHAR(50) NOT NULL,
	LAST_NAME VARCHAR(50) NOT NULL,
	PASSWORD VARCHAR(70) NOT NULL,
	PHONE_NUMBER VARCHAR(10) NOT NULL,
	constraint ADMIN_EMAIL_ID_PK primary key ( EMAIL_ID )
);

CREATE TABLE TRAVELLER(
	EMAIL_ID VARCHAR(50),
	FIRST_NAME VARCHAR(50) NOT NULL,
	LAST_NAME VARCHAR(50) NOT NULL,
	PASSWORD VARCHAR(70) NOT NULL,
	PHONE_NUMBER VARCHAR(10) NOT NULL,
	constraint TRAVELLER_EMAIL_ID_PK primary key ( EMAIL_ID )
);

SELECT * FROM TRAVELLER;
CREATE TABLE FLIGHT(
 	FLIGHT_ID NUMBER(10),
    FLIGHT_TYPE VARCHAR2 (50) NOT NULL,
    FLIGHT_SIZE NUMBER(10) NOT NULL,
    SEATS_AVAILABLE NUMBER(10) NOT NULL,
    DATE_OF_DEPARTURE DATE NOT NULL,
    DATE_OF_ARRIVAL DATE NOT NULL,
    DESTINATION VARCHAR2(50) NOT NULL,
	FLIGHT_FARE NUMBER(10) NOT NULL,
	FLIGHT_TAX NUMBER(10) NOT NULL,
    AIRPORT_ID NUMBER(10),
    constraint FLIGHT_FLIGHT_ID_PK primary key ( FLIGHT_ID )
 );

	
	
CREATE TABLE AIRPORT(
    AIRPORT_ID NUMBER(10),
    NAME VARCHAR(50) NOT NULL,
    CITY VARCHAR(50) NOT NULL,
    constraint AIRPORT_AIRPORT_ID_PK primary key ( AIRPORT_ID )
);
	
	
ALTER TABLE FLIGHT ADD CONSTRAINT AIRPORT_AIR_ID_FK FOREIGN KEY ( AIRPORT_ID ) REFERENCES AIRPORT( AIRPORT_ID );


INSERT INTO AIRPORT(AIRPORT_ID, NAME, CITY) VALUES(1000,'DFW','Dallas');
INSERT INTO AIRPORT(AIRPORT_ID, NAME, CITY) VALUES(1001,'SFO','San Francisco');

INSERT INTO FLIGHT(FLIGHT_ID, FLIGHT_TYPE, FLIGHT_SIZE, SEATS_AVAILABLE, DATE_OF_DEPARTURE, DATE_OF_ARRIVAL, DESTINATION, FLIGHT_FARE, FLIGHT_TAX, AIRPORT_ID) VALUES(2000, 'DOMESTIC', 999, 100, SYSDATE+1, SYSDATE+1,'New York', 250, 14, 1000);
INSERT INTO FLIGHT(FLIGHT_ID, FLIGHT_TYPE, FLIGHT_SIZE, SEATS_AVAILABLE, DATE_OF_DEPARTURE, DATE_OF_ARRIVAL, DESTINATION, FLIGHT_FARE, FLIGHT_TAX, AIRPORT_ID) VALUES(2001, 'DOMESTIC', 999, 100, SYSDATE+10, SYSDATE+10,'Seattle', 250, 14, 1000);

INSERT INTO TRAVELLER (EMAIL_ID, FIRST_NAME, LAST_NAME, PASSWORD, PHONE_NUMBER) VALUES ('tom@infosys.com', 'Tom', 'Infy','f11c799502ed788b70e2130749cf17d1263720aaa1513f28c2acf9c5230cc702', '7886189067');
--Password: Tom@123
